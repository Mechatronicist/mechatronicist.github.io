import{_ as g}from"./D6OffPpa.js";import{g as m,c as a,o as s,a as n,b as y,t as l,F as b,r as x,d as v,j as u,_ as p,k as $,n as k,l as h,p as f}from"#entry";const G={class:"event"},H={class:"flex row gap-05 center-align"},w={class:"flex col"},A=["href"],P=m({__name:"GitHubPushActivity",props:{event:{}},setup(t){const c=t,e=c.event.payload;return(r,o)=>{const i=g;return s(),a("div",G,[n("div",H,[y(i,{src:`${t.event.actor.avatar_url}`,width:"32"},null,8,["src"]),n("div",w,[n("b",null,l(t.event.repo.name),1),n("div",null,l(t.event.created_at.toLocaleDateString()),1)])]),(s(!0),a(b,null,x(u(e).commits,_=>(s(),a("a",{class:"commit",href:`https://github.com/${c.event.repo.name}/commit/${_.sha}`,target:"_blank"},[o[0]||(o[0]=n("i",{class:"ph ph-git-commit"},null,-1)),v(" "+l(_.message),1)],8,A))),256))])}}}),N=Object.assign(p(P,[["__scopeId","data-v-0f541852"]]),{__name:"GitHubPushActivity"}),E={class:"event"},j={class:"flex row gap-05 center-align"},q={class:"flex col"},I=["href"],B=m({__name:"GitHubPullActivity",props:{event:{}},setup(t){const e=t.event.payload;return(r,o)=>{const i=g;return s(),a("div",E,[n("div",j,[y(i,{src:`${t.event.actor.avatar_url}`,width:"32"},null,8,["src"]),n("div",q,[n("b",null,l(t.event.repo.name),1),n("div",null,l(t.event.created_at.toLocaleDateString()),1)])]),n("a",{class:"pr",href:u(e).pull_request.url},[o[1]||(o[1]=n("i",{class:"ph ph-git-pull-request"},null,-1)),n("div",null,[o[0]||(o[0]=v(" Pull request '",-1)),n("i",null,l(u(e).pull_request.title),1),v("' was "+l(u(e).action)+". ",1)])],8,I)])}}}),D=Object.assign(p(B,[["__scopeId","data-v-f1102596"]]),{__name:"GitHubPullActivity"});async function L(t){try{var c=`https://api.github.com/users/${t}/events`,e=await fetch(c),r=await e.json();return r.map(i=>({...i,created_at:new Date(i.created_at)}))}catch(o){return console.error(o),null}}const S={class:"flex col gap-1"},V={key:1},F={key:0},O={key:1},C=m({__name:"GitHubActivity",props:{username:String,count:Number},setup(t){const c=t,e=$(void 0);return k(async()=>{if(c.username===void 0){console.error("No GitHub username defined.");return}var r=await L(c.username);if(r===null){e.value=null;return}e.value=r.slice(0,c.count??5)}),(r,o)=>{const i=N,_=D;return s(),a("div",S,[u(e)!=null?(s(!0),a(b,{key:0},x(u(e),d=>(s(),a("div",null,[d.type=="PushEvent"?(s(),h(i,{key:0,event:d},null,8,["event"])):f("",!0),d.type=="PullRequestEvent"?(s(),h(_,{key:1,event:d},null,8,["event"])):f("",!0)]))),256)):(s(),a("div",V,[u(e)==null?(s(),a("div",F," Loading.. ")):(s(),a("div",O," Failed to load recent activity. "))]))])}}}),T=Object.assign(p(C,[["__scopeId","data-v-57f2128b"]]),{__name:"GitHubActivity"});export{T as G};
