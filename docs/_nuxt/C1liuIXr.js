import{_ as y}from"./BWrATNAj.js";import{g as m,c as o,o as s,a as n,b as g,t as l,F as b,r as x,d as v,j as u,_ as p,m as $,p as k,k as h,q as f}from"#entry";const G={class:"event"},H={class:"flex row gap-05 center-align"},w={class:"flex col"},A=["href"],P=m({__name:"GitHubPushActivity",props:{event:{}},setup(t){const c=t,e=c.event.payload;return(r,a)=>{const i=y;return s(),o("div",G,[n("div",H,[g(i,{src:`${t.event.actor.avatar_url}`,width:"32"},null,8,["src"]),n("div",w,[n("b",null,l(t.event.repo.name),1),n("div",null,l(t.event.created_at.toLocaleDateString()),1)])]),(s(!0),o(b,null,x(u(e).commits,_=>(s(),o("a",{class:"commit",href:`https://github.com/${c.event.repo.name}/commit/${_.sha}`,target:"_blank"},[a[0]||(a[0]=n("i",{class:"ph ph-git-commit"},null,-1)),v(" "+l(_.message),1)],8,A))),256))])}}}),N=Object.assign(p(P,[["__scopeId","data-v-0f541852"]]),{__name:"GitHubPushActivity"}),q={class:"event"},E={class:"flex row gap-05 center-align"},j={class:"flex col"},I=["href"],B=m({__name:"GitHubPullActivity",props:{event:{}},setup(t){const e=t.event.payload;return(r,a)=>{const i=y;return s(),o("div",q,[n("div",E,[g(i,{src:`${t.event.actor.avatar_url}`,width:"32"},null,8,["src"]),n("div",j,[n("b",null,l(t.event.repo.name),1),n("div",null,l(t.event.created_at.toLocaleDateString()),1)])]),n("a",{class:"pr",href:u(e).pull_request.url},[a[1]||(a[1]=n("i",{class:"ph ph-git-pull-request"},null,-1)),n("div",null,[a[0]||(a[0]=v(" Pull request '",-1)),n("i",null,l(u(e).pull_request.title),1),v("' was "+l(u(e).action)+". ",1)])],8,I)])}}}),D=Object.assign(p(B,[["__scopeId","data-v-f1102596"]]),{__name:"GitHubPullActivity"});async function L(t){try{var c=`https://api.github.com/users/${t}/events`,e=await fetch(c),r=await e.json();return r.map(i=>({...i,created_at:new Date(i.created_at)}))}catch(a){return console.error(a),null}}const V={class:"flex col gap-1"},F={key:1},O={key:0},S={key:1},C=m({__name:"GitHubActivity",props:{username:{},count:{}},setup(t){const c=t,e=$(void 0);return k(async()=>{if(c.username===void 0){console.error("No GitHub username defined.");return}var r=await L(c.username);if(r===null){e.value=null;return}e.value=r.slice(0,c.count??5)}),(r,a)=>{const i=N,_=D;return s(),o("div",V,[u(e)!=null?(s(!0),o(b,{key:0},x(u(e),d=>(s(),o("div",null,[d.type=="PushEvent"?(s(),h(i,{key:0,event:d},null,8,["event"])):f("",!0),d.type=="PullRequestEvent"?(s(),h(_,{key:1,event:d},null,8,["event"])):f("",!0)]))),256)):(s(),o("div",F,[u(e)==null?(s(),o("div",O," Loading.. ")):(s(),o("div",S," Failed to load recent activity. "))]))])}}}),T=Object.assign(p(C,[["__scopeId","data-v-aa14ee96"]]),{__name:"GitHubActivity"});export{T as G};
